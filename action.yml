name: "cloudfront-update-distribution"
description: "Updates an AWS cloudfront distribution"
inputs:
  aws-access-key-id: # id of input
    description: >-
      AWS Access Key ID. This input is required if running in the GitHub hosted environment.
      It is optional if running in a self-hosted environment that already has AWS credentials,
      for example on an EC2 instance.
    required: true
  aws-secret-access-key:
    description: >-
      AWS Secret Access Key. This input is required if running in the GitHub hosted environment.
      It is optional if running in a self-hosted environment that already has AWS credentials,
      for example on an EC2 instance.
    required: true
  aws-region:
    description: "AWS Region, e.g. us-east-2"
    required: true
  cloudfront-distribution-id:
    description: "The Id of a cloudfront distribution"
    required: true
  path-pattern:
    description: "Path pattern for cloudfront origin behavior"
    required: false
  lambda-association-event-type:
    description: "Lambda association event type"
    required: false
  lambda-association-version-arn:
    description: "Lambda association version arn"
    required: false
  cloudfront-invalidation-required:
    description: "Whether to invalidate the cloudfront distribution"
    required: false
  cloudfront-invalidation-path:
    description: "Path to invalidate in the cloudfront distribution"
    required: false
  cloudfront-wait-for-service-update:
    description: "Whether to wait for the cloudfront distribution to be updated"
    required: false
runs:
  using: "node16"
  main: "dist/index.js"
  post: "dist/cleanup/index.js"
branding:
  icon: cloud
  color: orange
